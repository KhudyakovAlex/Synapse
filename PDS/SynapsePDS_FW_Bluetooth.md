# Прошивка. Bluetooth-соединение

АПК Синапс v1.0. ПО. Спецификации на разработку

**Последнее изменение:** 01.12.2025

## 1. Термины и определения

## 2. Основные положения

2.1. В качестве Bluetooth-чипа в контроллере используется TLSR9218AER.

2.2. Контроллер работает как периферийное устройство.

2.3. Телефоны работают как центральные устройства.

2.4. К контроллеру могут одновременно подключиться и работать с ним 4 телефона.

2.5. Если подключено 4 телефона, контроллер не выдаёт в эфир адвертайзных сигналов.

2.6. Подключаться к контроллеру должны только телефоны из приложения Синапс.

2.7. У контроллера через приложение может быть задано новое имя вместо заводского и задана иконка (номером).

2.8. Если имя и иконка были изменены, Bluetooth-название устройства должно иметь вид "[XXX]New name", где XXX — номер иконки (ставится в квадратные скобки).

2.9. Прошивка Bluetooth-контроллера обеспечивает передачу телеграмм между основной прошивкой контроллера и приложением телефона.

2.10. При получении телеги от телефона необходимо подтвердить успешное её получение.

2.11. При отправке телеги телефону необходимо получить подтверждение об успешном получении. При отсутствии подтверждения отправить её повторно.

2.12. Телеги от основной прошивки отправляются широковещательно ВСЕМ подключённым телефонам.

## 3. Вопросы

3.1. Какой длины имя мы можем поиметь в списке устройств Bluetooth в телефоне?

## 4. Идеи
