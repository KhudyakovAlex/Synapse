<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (Mermaid ERD) - Synapse Documentation</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <h1><a href="../index.html">üîÜ Synapse Docs</a></h1>
            <nav class="header-nav">
                <a href="../index.html">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="https://github.com/KhudyakovAlex/Synapse" target="_blank">GitHub</a>
                <button id="theme-toggle" class="theme-toggle">üåô –¢—ë–º–Ω–∞—è</button>
            </nav>
        </div>
    </header>

    <!-- Breadcrumbs -->
    <nav class="breadcrumbs">
        <a href="../index.html">–ì–ª–∞–≤–Ω–∞—è</a>
        <span>‚Ä∫</span>
        <a href="../index.html#pds">PDS</a>
        <span>‚Ä∫</span>
        <span>–°—Ö–µ–º–∞ –ë–î (Mermaid)</span>
    </nav>

    <!-- Main Container -->
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <h3>üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</h3>
            <ul>
                <li><a href="#diagram">–î–∏–∞–≥—Ä–∞–º–º–∞</a></li>
                <li><a href="#legend">–õ–µ–≥–µ–Ω–¥–∞</a></li>
                <li><a href="#relations">–¢–∏–ø—ã —Å–≤—è–∑–µ–π</a></li>
                <li><a href="#entities">–û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏</a></li>
            </ul>
        </aside>

        <!-- Content -->
        <main class="content">
            <h1>–°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Synapse (Mermaid ERD)</h1>
            
            <p class="source-link" style="display: inline-block;">
                <a href="https://github.com/KhudyakovAlex/Synapse/blob/master/PDS/db_schema_mermaid.md" target="_blank">
                    üìÑ –ò—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª –Ω–∞ GitHub
                </a>
            </p>

            <h2 id="diagram">–î–∏–∞–≥—Ä–∞–º–º–∞ Entity Relationship</h2>
            <p>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –Ω–∏–º–∏.</p>

            <div class="mermaid">
erDiagram
    CONTROLLER {
        string NAME "–Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞"
        string PASSWORD "–ø–∏–Ω–∫–æ–¥ 4 —Ü–∏—Ñ—Ä—ã"
        boolean IS_SCHEDULE "–≤–∫–ª—é—á–µ–Ω–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ"
        int ICO_NUM "–Ω–æ–º–µ—Ä –∏–∫–æ–Ω–∫–∏"
    }

    LOCATIONS {
        int NUM PK "–ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä"
        string NAME "–Ω–∞–∑–≤–∞–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–∏"
        int ICO_NUM "–Ω–æ–º–µ—Ä –∏–∫–æ–Ω–∫–∏"
        boolean IS_AUTO "–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º"
        int SCALE "–º–∞—Å—à—Ç–∞–± —Å–µ—Ç–∫–∏ 1-3"
        int POS "–ø–æ–∑–∏—Ü–∏—è –≤ —Å–ø–∏—Å–∫–µ 0-255"
    }

    GROUPS {
        int ID PK
        string NAME "–Ω–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã"
        int DALI_NUM "–Ω–æ–º–µ—Ä –≥—Ä—É–ø–ø—ã –≤ DALI"
        int LOCATION_ID FK "–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ª–æ–∫–∞—Ü–∏–∏"
    }

    LUMINAIRES {
        int ID PK
        string NAME "–Ω–∞–∑–≤–∞–Ω–∏–µ —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫–∞"
        int DALI_ADDR "–∫–æ—Ä–æ—Ç–∫–∏–π –∞–¥—Ä–µ—Å DALI"
        int LOCATION_ID FK "–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ª–æ–∫–∞—Ü–∏–∏"
        int GROUP_ID FK "–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≥—Ä—É–ø–ø—ã nullable"
        int ICO_NUM "–Ω–æ–º–µ—Ä –∏–∫–æ–Ω–∫–∏"
        int POS_X "–∫–æ–ª–æ–Ω–∫–∞ 0-255"
        int POS_Y "—Ä—è–¥ 0-255"
    }

    PRES_SENSORS {
        int ID PK
        string NAME "–Ω–∞–∑–≤–∞–Ω–∏–µ –¥–∞—Ç—á–∏–∫–∞"
        int DALI_ADDR "–∫–æ—Ä–æ—Ç–∫–∏–π –∞–¥—Ä–µ—Å DALI"
        int DALI_INST "–Ω–æ–º–µ—Ä –∏–Ω—Å—Ç–∞–Ω—Å–∞"
        int LOCATION_ID FK "–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ª–æ–∫–∞—Ü–∏–∏"
        int DELAY "–∑–∞–¥–µ—Ä–∂–∫–∞ –≤—ã–∫–ª—é—á–µ–Ω–∏—è —Å–µ–∫"
    }

    BRIGHT_SENSORS {
        int ID PK
        string NAME "–Ω–∞–∑–≤–∞–Ω–∏–µ –¥–∞—Ç—á–∏–∫–∞"
        int DALI_ADDR "–∫–æ—Ä–æ—Ç–∫–∏–π –∞–¥—Ä–µ—Å DALI"
        int DALI_INST "–Ω–æ–º–µ—Ä –∏–Ω—Å—Ç–∞–Ω—Å–∞"
        int LOCATION_ID FK "–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ª–æ–∫–∞—Ü–∏–∏"
        int GROUP_ID FK "—É–ø—Ä–∞–≤–ª—è–µ–º–∞—è –≥—Ä—É–ø–ø–∞"
    }

    BUTTON_PANELS {
        int ID PK
        string NAME "–Ω–∞–∑–≤–∞–Ω–∏–µ –ø–∞–Ω–µ–ª–∏"
        int DALI_ADDR "–∫–æ—Ä–æ—Ç–∫–∏–π –∞–¥—Ä–µ—Å DALI"
        int LOCATION_ID FK "–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ª–æ–∫–∞—Ü–∏–∏"
    }

    BUTTONS {
        int ID PK
        int NUM "–Ω–æ–º–µ—Ä –∫–Ω–æ–ø–∫–∏ –Ω–∞ –ø–∞–Ω–µ–ª–∏"
        int BUTTON_PANEL_ID FK "–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–∞–Ω–µ–ª–∏"
        int DALI_INST "–Ω–æ–º–µ—Ä –∏–Ω—Å—Ç–∞–Ω—Å–∞"
        int ACTION_ID FK "–¥–µ–π—Å—Ç–≤–∏–µ –ø–æ –Ω–∞–∂–∞—Ç–∏—é"
    }

    ACTIONS {
        int ID PK
        int GROUP_ID FK "–≥—Ä—É–ø–ø–∞ nullable"
        int LUMINAIRE_ID FK "—Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫ nullable"
        int SCENE_ID FK "—Å—Ü–µ–Ω–∞ nullable"
        int VAL_BRIGHT "—è—Ä–∫–æ—Å—Ç—å"
        int VAL_TW "—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –±–µ–ª–æ–≥–æ"
        int VAL_R "–∫—Ä–∞—Å–Ω—ã–π RGB"
        int VAL_G "–∑–µ–ª–µ–Ω—ã–π RGB"
        int VAL_B "—Å–∏–Ω–∏–π RGB"
        int VAL_W "–±–µ–ª—ã–π RGBW"
    }

    EVENTS {
        int ID PK
        boolean DATE_EVERYDAY "–µ–∂–µ–¥–Ω–µ–≤–Ω–æ–µ"
        string DATE_DAYS "–ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏"
        date DATE_SPECIFIC "–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –¥–∞—Ç–∞"
        time TIME "–≤—Ä–µ–º—è —Å–æ–±—ã—Ç–∏—è"
        boolean SMOOTH "–ø–ª–∞–≤–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ"
        int ACTION_ID FK "–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–µ–π—Å—Ç–≤–∏—è"
    }

    SCENES {
        int ID PK
        string NAME "–Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Ü–µ–Ω—ã"
    }

    LOCATIONS ||--o{ LUMINAIRES : "—Å–æ–¥–µ—Ä–∂–∏—Ç"
    LOCATIONS ||--o{ GROUPS : "—Å–æ–¥–µ—Ä–∂–∏—Ç"
    LOCATIONS ||--o{ PRES_SENSORS : "—Å–æ–¥–µ—Ä–∂–∏—Ç"
    LOCATIONS ||--o{ BRIGHT_SENSORS : "—Å–æ–¥–µ—Ä–∂–∏—Ç"
    LOCATIONS ||--o{ BUTTON_PANELS : "—Å–æ–¥–µ—Ä–∂–∏—Ç"
    GROUPS ||--o{ LUMINAIRES : "–æ–±—ä–µ–¥–∏–Ω—è–µ—Ç"
    GROUPS ||--o{ BRIGHT_SENSORS : "—É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è"
    GROUPS ||--o{ ACTIONS : "—É–ø—Ä–∞–≤–ª—è–µ—Ç"
    LUMINAIRES ||--o{ ACTIONS : "—É–ø—Ä–∞–≤–ª—è–µ—Ç"
    BUTTON_PANELS ||--o{ BUTTONS : "—Å–æ–¥–µ—Ä–∂–∏—Ç"
    ACTIONS ||--o{ BUTTONS : "–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è"
    ACTIONS ||--o{ EVENTS : "–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è"
    SCENES ||--o{ ACTIONS : "–∏—Å–ø–æ–ª—å–∑—É–µ—Ç"
            </div>

            <h2 id="legend">–õ–µ–≥–µ–Ω–¥–∞</h2>
            <div class="info-box">
                <p><strong>–ñ–∏—Ä–Ω—ã–º</strong> –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ –ø–æ–º–µ—á–µ–Ω—ã <strong>—Ä–∞–±–æ—á–∏–µ –ø–æ–ª—è</strong> (–Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã –æ—Å–≤–µ—â–µ–Ω–∏—è).</p>
                <p>–û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è ‚Äî <em>–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω—ã–µ</em> (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º).</p>
            </div>

            <h2 id="relations">–¢–∏–ø—ã —Å–≤—è–∑–µ–π</h2>
            <ul>
                <li><code>||--o{</code> ‚Äî –æ–¥–∏–Ω –∫–æ –º–Ω–æ–≥–∏–º</li>
                <li><code>(nullable)</code> ‚Äî –ø–æ–ª–µ –º–æ–∂–µ—Ç –±—ã—Ç—å NULL</li>
            </ul>

            <h2 id="entities">–û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏</h2>
            <ol>
                <li><strong>CONTROLLER</strong> ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ (–æ–¥–Ω–∞ –∑–∞–ø–∏—Å—å)</li>
                <li><strong>LOCATIONS</strong> ‚Äî –ø–æ–º–µ—â–µ–Ω–∏—è/–ª–æ–∫–∞—Ü–∏–∏</li>
                <li><strong>GROUPS</strong> ‚Äî –≥—Ä—É–ø–ø—ã —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫–æ–≤</li>
                <li><strong>LUMINAIRES</strong> ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫–∏</li>
                <li><strong>PRES_SENSORS</strong> ‚Äî –¥–∞—Ç—á–∏–∫–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏—è</li>
                <li><strong>BRIGHT_SENSORS</strong> ‚Äî –¥–∞—Ç—á–∏–∫–∏ –æ—Å–≤–µ—â—ë–Ω–Ω–æ—Å—Ç–∏</li>
                <li><strong>BUTTON_PANELS</strong> ‚Äî –∫–Ω–æ–ø–æ—á–Ω—ã–µ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</li>
                <li><strong>BUTTONS</strong> ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –Ω–∞ –ø–∞–Ω–µ–ª—è—Ö</li>
                <li><strong>ACTIONS</strong> ‚Äî –¥–µ–π—Å—Ç–≤–∏—è (–∏–∑–º–µ–Ω–µ–Ω–∏–µ —è—Ä–∫–æ—Å—Ç–∏, —Ü–≤–µ—Ç–∞ –∏ —Ç.–¥.)</li>
                <li><strong>EVENTS</strong> ‚Äî —Å–æ–±—ã—Ç–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è</li>
                <li><strong>SCENES</strong> ‚Äî —Å–≤–µ—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω—ã</li>
            </ol>

            <div class="info-box">
                <h3>üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã</h3>
                <p>
                    <a href="SynapsePDS_DB.html">SynapsePDS_DB</a> ‚Äî –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
                </p>
            </div>
        </main>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>
            <strong>Synapse Project</strong> ¬© 2025 | 
            <a href="https://github.com/KhudyakovAlex/Synapse" target="_blank">GitHub</a>
        </p>
        <p style="margin-top: 10px; font-size: 0.9em;">
            –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Å–≤–µ—â–µ–Ω–∏–µ–º –Ω–∞ –±–∞–∑–µ DALI
        </p>
    </footer>

    <script src="../assets/js/main.js"></script>
</body>
</html>

