<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Synapse (Mermaid ERD) - Synapse Documentation</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <h1><a href="../index.html">üîÜ Synapse Docs</a></h1>
            <nav class="header-nav">
                <a href="../index.html">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="https://github.com/KhudyakovAlex/Synapse" target="_blank">GitHub</a>
                <button id="theme-toggle" class="theme-toggle">üåô –¢—ë–º–Ω–∞—è</button>
            </nav>
        </div>
    </header>

    <!-- Breadcrumbs -->
    <nav class="breadcrumbs">
        <a href="../index.html">–ì–ª–∞–≤–Ω–∞—è</a>
        <span>‚Ä∫</span>
        <span>db_schema_mermaid</span>
    </nav>

    <!-- Main Container -->
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <h3>üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</h3>
            <ul>
                <!-- TOC will be auto-generated by JS -->
            </ul>
        </aside>

        <!-- Content -->
        <main class="content">
            <p class="source-link" style="display: inline-block;">
                <a href="https://github.com/KhudyakovAlex/Synapse/blob/master/PDS\db_schema_mermaid.md" target="_blank">
                    üìÑ –ò—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª –Ω–∞ GitHub
                </a>
            </p>
            
            <h1>–°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Synapse (Mermaid ERD)</h1>
<pre><code class="language-mermaid">erDiagram
    CONTROLLER {
        string NAME &quot;–Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞&quot;
        string PASSWORD &quot;–ø–∏–Ω–∫–æ–¥ 4 —Ü–∏—Ñ—Ä—ã&quot;
        boolean IS_SCHEDULE &quot;–≤–∫–ª—é—á–µ–Ω–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ&quot;
        int ICO_NUM &quot;–Ω–æ–º–µ—Ä –∏–∫–æ–Ω–∫–∏&quot;
    }

    LOCATIONS {
        int NUM PK &quot;–ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä&quot;
        string NAME &quot;–Ω–∞–∑–≤–∞–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–∏&quot;
        int ICO_NUM &quot;–Ω–æ–º–µ—Ä –∏–∫–æ–Ω–∫–∏&quot;
        boolean IS_AUTO &quot;–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º&quot;
        int SCALE &quot;–º–∞—Å—à—Ç–∞–± —Å–µ—Ç–∫–∏ 1-3&quot;
        int POS &quot;–ø–æ–∑–∏—Ü–∏—è –≤ —Å–ø–∏—Å–∫–µ 0-255&quot;
    }

    GROUPS {
        int ID PK
        string NAME &quot;–Ω–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã&quot;
        int DALI_NUM &quot;–Ω–æ–º–µ—Ä –≥—Ä—É–ø–ø—ã –≤ DALI&quot;
        int LOCATION_ID FK &quot;–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ª–æ–∫–∞—Ü–∏–∏&quot;
    }

    LUMINAIRES {
        int ID PK
        string NAME &quot;–Ω–∞–∑–≤–∞–Ω–∏–µ —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫–∞&quot;
        int DALI_ADDR &quot;–∫–æ—Ä–æ—Ç–∫–∏–π –∞–¥—Ä–µ—Å DALI&quot;
        int LOCATION_ID FK &quot;–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ª–æ–∫–∞—Ü–∏–∏&quot;
        int GROUP_ID FK &quot;–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≥—Ä—É–ø–ø—ã (nullable)&quot;
        int ICO_NUM &quot;–Ω–æ–º–µ—Ä –∏–∫–æ–Ω–∫–∏&quot;
        int POS_X &quot;–∫–æ–ª–æ–Ω–∫–∞ 0-255&quot;
        int POS_Y &quot;—Ä—è–¥ 0-255&quot;
    }

    PRES_SENSORS {
        int ID PK
        string NAME &quot;–Ω–∞–∑–≤–∞–Ω–∏–µ –¥–∞—Ç—á–∏–∫–∞&quot;
        int DALI_ADDR &quot;–∫–æ—Ä–æ—Ç–∫–∏–π –∞–¥—Ä–µ—Å DALI&quot;
        int DALI_INST &quot;–Ω–æ–º–µ—Ä –∏–Ω—Å—Ç–∞–Ω—Å–∞&quot;
        int LOCATION_ID FK &quot;–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ª–æ–∫–∞—Ü–∏–∏&quot;
        int DELAY &quot;–∑–∞–¥–µ—Ä–∂–∫–∞ –≤—ã–∫–ª—é—á–µ–Ω–∏—è —Å–µ–∫&quot;
    }

    BRIGHT_SENSORS {
        int ID PK
        string NAME &quot;–Ω–∞–∑–≤–∞–Ω–∏–µ –¥–∞—Ç—á–∏–∫–∞&quot;
        int DALI_ADDR &quot;–∫–æ—Ä–æ—Ç–∫–∏–π –∞–¥—Ä–µ—Å DALI&quot;
        int DALI_INST &quot;–Ω–æ–º–µ—Ä –∏–Ω—Å—Ç–∞–Ω—Å–∞&quot;
        int LOCATION_ID FK &quot;–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ª–æ–∫–∞—Ü–∏–∏&quot;
        int GROUP_ID FK &quot;—É–ø—Ä–∞–≤–ª—è–µ–º–∞—è –≥—Ä—É–ø–ø–∞&quot;
    }

    BUTTON_PANELS {
        int ID PK
        string NAME &quot;–Ω–∞–∑–≤–∞–Ω–∏–µ –ø–∞–Ω–µ–ª–∏&quot;
        int DALI_ADDR &quot;–∫–æ—Ä–æ—Ç–∫–∏–π –∞–¥—Ä–µ—Å DALI&quot;
        int LOCATION_ID FK &quot;–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ª–æ–∫–∞—Ü–∏–∏&quot;
    }

    BUTTONS {
        int ID PK
        int NUM &quot;–Ω–æ–º–µ—Ä –∫–Ω–æ–ø–∫–∏ –Ω–∞ –ø–∞–Ω–µ–ª–∏&quot;
        int BUTTON_PANEL_ID FK &quot;–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–∞–Ω–µ–ª–∏&quot;
        int DALI_INST &quot;–Ω–æ–º–µ—Ä –∏–Ω—Å—Ç–∞–Ω—Å–∞&quot;
        int ACTION_ID FK &quot;–¥–µ–π—Å—Ç–≤–∏–µ –ø–æ –Ω–∞–∂–∞—Ç–∏—é&quot;
    }

    ACTIONS {
        int ID PK
        int GROUP_ID FK &quot;–≥—Ä—É–ø–ø–∞ (nullable)&quot;
        int LUMINAIRE_ID FK &quot;—Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫ (nullable)&quot;
        int SCENE_ID FK &quot;—Å—Ü–µ–Ω–∞ (nullable)&quot;
        int VAL_BRIGHT &quot;—è—Ä–∫–æ—Å—Ç—å&quot;
        int VAL_TW &quot;—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –±–µ–ª–æ–≥–æ&quot;
        int VAL_R &quot;–∫—Ä–∞—Å–Ω—ã–π RGB&quot;
        int VAL_G &quot;–∑–µ–ª–µ–Ω—ã–π RGB&quot;
        int VAL_B &quot;—Å–∏–Ω–∏–π RGB&quot;
        int VAL_W &quot;–±–µ–ª—ã–π RGBW&quot;
    }

    EVENTS {
        int ID PK
        boolean DATE_EVERYDAY &quot;–µ–∂–µ–¥–Ω–µ–≤–Ω–æ–µ&quot;
        string DATE_DAYS &quot;–ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏&quot;
        date DATE_SPECIFIC &quot;–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –¥–∞—Ç–∞&quot;
        time TIME &quot;–≤—Ä–µ–º—è —Å–æ–±—ã—Ç–∏—è&quot;
        boolean SMOOTH &quot;–ø–ª–∞–≤–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ&quot;
        int ACTION_ID FK &quot;–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–µ–π—Å—Ç–≤–∏—è&quot;
    }

    SCENES {
        int ID PK
        string NAME &quot;–Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Ü–µ–Ω—ã&quot;
    }

    %% –°–≤—è–∑–∏ –ª–æ–∫–∞—Ü–∏–π
    LOCATIONS ||--o{ LUMINAIRES : &quot;—Å–æ–¥–µ—Ä–∂–∏—Ç&quot;
    LOCATIONS ||--o{ GROUPS : &quot;—Å–æ–¥–µ—Ä–∂–∏—Ç&quot;
    LOCATIONS ||--o{ PRES_SENSORS : &quot;—Å–æ–¥–µ—Ä–∂–∏—Ç&quot;
    LOCATIONS ||--o{ BRIGHT_SENSORS : &quot;—Å–æ–¥–µ—Ä–∂–∏—Ç&quot;
    LOCATIONS ||--o{ BUTTON_PANELS : &quot;—Å–æ–¥–µ—Ä–∂–∏—Ç&quot;

    %% –°–≤—è–∑–∏ –≥—Ä—É–ø–ø
    GROUPS ||--o{ LUMINAIRES : &quot;–æ–±—ä–µ–¥–∏–Ω—è–µ—Ç&quot;
    GROUPS ||--o{ BRIGHT_SENSORS : &quot;—É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è&quot;
    GROUPS ||--o{ ACTIONS : &quot;—É–ø—Ä–∞–≤–ª—è–µ—Ç&quot;

    %% –°–≤—è–∑–∏ —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫–æ–≤
    LUMINAIRES ||--o{ ACTIONS : &quot;—É–ø—Ä–∞–≤–ª—è–µ—Ç&quot;

    %% –°–≤—è–∑–∏ –∫–Ω–æ–ø–æ—á–Ω—ã—Ö –ø–∞–Ω–µ–ª–µ–π
    BUTTON_PANELS ||--o{ BUTTONS : &quot;—Å–æ–¥–µ—Ä–∂–∏—Ç&quot;

    %% –°–≤—è–∑–∏ –¥–µ–π—Å—Ç–≤–∏–π
    ACTIONS ||--o{ BUTTONS : &quot;–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è&quot;
    ACTIONS ||--o{ EVENTS : &quot;–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è&quot;
    SCENES ||--o{ ACTIONS : &quot;–∏—Å–ø–æ–ª—å–∑—É–µ—Ç&quot;
</code></pre>
<h2>–õ–µ–≥–µ–Ω–¥–∞</h2>
<p><strong>–ñ–∏—Ä–Ω—ã–º</strong> –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ –ø–æ–º–µ—á–µ–Ω—ã —Ä–∞–±–æ—á–∏–µ –ø–æ–ª—è (–Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã –æ—Å–≤–µ—â–µ–Ω–∏—è).</p>
<p>–û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω—ã–µ (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º).</p>
<h2>–¢–∏–ø—ã —Å–≤—è–∑–µ–π</h2>
<ul>
<li><code>||--o{</code> ‚Äî –æ–¥–∏–Ω –∫–æ –º–Ω–æ–≥–∏–º</li>
<li><code>(nullable)</code> ‚Äî –ø–æ–ª–µ –º–æ–∂–µ—Ç –±—ã—Ç—å NULL</li>
</ul>
<h2>–û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏</h2>
<ol>
<li><strong>CONTROLLER</strong> ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ (–æ–¥–Ω–∞ –∑–∞–ø–∏—Å—å)</li>
<li><strong>LOCATIONS</strong> ‚Äî –ø–æ–º–µ—â–µ–Ω–∏—è/–ª–æ–∫–∞—Ü–∏–∏</li>
<li><strong>GROUPS</strong> ‚Äî –≥—Ä—É–ø–ø—ã —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫–æ–≤</li>
<li><strong>LUMINAIRES</strong> ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫–∏</li>
<li><strong>PRES_SENSORS</strong> ‚Äî –¥–∞—Ç—á–∏–∫–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏—è</li>
<li><strong>BRIGHT_SENSORS</strong> ‚Äî –¥–∞—Ç—á–∏–∫–∏ –æ—Å–≤–µ—â—ë–Ω–Ω–æ—Å—Ç–∏</li>
<li><strong>BUTTON_PANELS</strong> ‚Äî –∫–Ω–æ–ø–æ—á–Ω—ã–µ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</li>
<li><strong>BUTTONS</strong> ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –Ω–∞ –ø–∞–Ω–µ–ª—è—Ö</li>
<li><strong>ACTIONS</strong> ‚Äî –¥–µ–π—Å—Ç–≤–∏—è (–∏–∑–º–µ–Ω–µ–Ω–∏–µ —è—Ä–∫–æ—Å—Ç–∏, —Ü–≤–µ—Ç–∞ –∏ —Ç.–¥.)</li>
<li><strong>EVENTS</strong> ‚Äî —Å–æ–±—ã—Ç–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è</li>
<li><strong>SCENES</strong> ‚Äî —Å–≤–µ—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω—ã</li>
</ol>
        </main>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>
            <strong>Synapse Project</strong> ¬© 2025 | 
            <a href="https://github.com/KhudyakovAlex/Synapse" target="_blank">GitHub</a>
        </p>
        <p style="margin-top: 10px; font-size: 0.9em;">
            –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Å–≤–µ—â–µ–Ω–∏–µ–º –Ω–∞ –±–∞–∑–µ DALI
        </p>
    </footer>

    <script src="../assets/js/main.js"></script>
</body>
</html>
